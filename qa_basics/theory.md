# Курс Основы тестирования программного обеспечения (Интуит)

## Понятие тестирования 

Качество программного продукта характеризуется набором свойств, определяющих, насколько продукт "хорош" с точки зрения заинтересованных сторон (заказчик продукта, спонсор, конечный пользователь, разработчики и тестировщики продукта, инженеры поддержки, сотрудники отделов маркетинга, обучения и продаж). 

Тестирование = способ обеспечения качества разработки ПО. 

Тестирование = выполнение приложения на некотором множестве исходных данных и сверке получаемых результатов с заранее известными (эталонными) с целью установить соответствие различных свойств и характеристик приложения заказанным свойствам. 

Тестирование = процесс выполнения ПО системы или компонента в условиях анализа или записи получаемых результатов с целью проверки (оценки) некоторых свойств тестируемого объекта.

Тестирование = процесс анализа пункта требований к ПО с целью фиксации различий между существующим состоянием ПО и требуемым (что свидетельствует о проявлении ошибки) при экспериментальной проверке соответствующего пункта требований.

Тестирование = контролируемое выполнение программы на конечном множестве тестовых данных и анализ результатов этого выполнения для поиска ошибок.

## Трудозатраты в тестировании

Наибольший эффект в снижении трудоемкости может быть получен прежде всего на фазах Design и Testing. Поэтому основные вложения в автоматизацию или генерацию кода следует осуществлять, прежде всего, на этих фазах. 

Задачей ближайшего будущего является движение в сторону такого распределения трудоемкости (60%-тестирование требований, 20%- разработка, 20% -тестирование продукта), чтобы суммарная цена обнаружения большинства дефектов стремилась к минимуму за счет обнаружения дефектов на ранних фазах разработки программного продукта.

## Концепция тестирования

Существует два метода обоснования истинности формул:

- Формальный подход или доказательство применяется, когда из исходных формул-аксиом с помощью формальных процедур (правил вывода) выводятся искомые формулы и утверждения (теоремы). Вывод осуществляется путем перехода от одних формул к другим.
Преимущество формального подхода заключается в том, что с его помощью удается избегать обращений к бесконечной области значений и на каждом шаге доказательства оперировать только конечным множеством символов.

- Интерпретационный подход применяется, когда осуществляется подстановка констант в формулы, а затем интерпретация формул как осмысленных утверждений в элементах множеств конкретных значений. Истинность интерпретируемых формул проверяется на конечных множествах возможных значений. Сложность подхода состоит в том, что на конечных множествах комбинации возможных значений для реализации исчерпывающей проверки могут оказаться достаточно велики.
Интерпретационный подход используется при экспериментальной проверке соответствия программы своей спецификации

Применение интерпретационного подхода в форме экспериментов над исполняемой программой составляет суть отладки и тестирования.

## Отладка
Отладка (debug, debugging) – процесс поиска, локализации и исправления ошибок в программе.

Отладка обеспечивает локализацию ошибок, поиск причин ошибок и соответствующую корректировку программы.

## Статическое и динамическое тестирование

Статическое тестирование выявляет формальными методами анализа без выполнения тестируемой программы неверные конструкции или неверные отношения объектов программы (ошибки формального задания) с помощью специальных инструментов контроля кода – CodeChecker.

Динамическое тестирование (собственно тестирование) осуществляет выявление ошибок только на выполняющейся программе с помощью специальных инструментов автоматизации тестирования – Testbed или Testbench.

## Критерии окончания тестирования

Тестирование заканчивается, когда выполнилось или "прошло" (pass) успешно достаточное количество тестов в соответствии с выбранным критерием тестирования.

## Три фазы тестирования
Реализация тестирования разделяется на три этапа:

### Создание тестового набора (test suite) 
путем ручной разработки или автоматической генерации для конкретной среды тестирования (testing environment).

### Прогон программы на тестах, управляемый тестовым монитором (test monitor, test driver) 
с получением протокола результатов тестирования (test log).

### Оценка результатов выполнения программы на наборе тестов с целью принятия решения о продолжении или остановке тестирования.

## Основная проблема тестирования

определение достаточности множества тестов для истинности вывода о правильности реализации программы, а также нахождения множества тестов, обладающего этим свойством.

Тестирование программы на всех входных значениях невозможно.
Невозможно тестирование и на всех путях.
Следовательно, надо отбирать конечный набор тестов, позволяющий проверить программу на основе наших интуитивных представлений.

## Критерии тестирования

### Требования к идеальному критерию тестирования: он должен быть
- достаточным, т.е. показывать, когда некоторое конечное множество тестов достаточно для тестирования данной программы.
- полным, т.е. в случае ошибки должен существовать тест, который раскрывает ошибку.
- надежным, т.е. любые два множества тестов, удовлетворяющих ему, одновременно должны раскрывать или не раскрывать ошибки программы
- легко проверяемым, например вычисляемым на тестах

Для нетривиальных классов программ не существует полного и надежного критерия.

### Классы критериев:
- Структурные критерии - используют информацию о структуре программы (критерии т.н. "белого ящика", что предполагает знание исходного текста программы или спецификации программы в виде потокового графа управления (множества всех возможных путей исполнения программы, представленное в виде графa). 

Структурная информация понятна и доступна разработчикам подсистем и модулей приложения, поэтому структурные критерии часто используется на этапах модульного и интеграционного тестирования (Unit testing, Integration testing). Структурные критерии базируются на основных элементах УГП, операторах, ветвях и путях. 

  - Условие критерия тестирования команд (критерий С0) - набор тестов в совокупности должен обеспечить прохождение каждой команды не менее одного раза. Это слабый критерий. Используется в больших программных системах, где другие критерии применить невозможно.
	
  - Условие критерия тестирования ветвей (критерий С1) - набор тестов в совокупности должен обеспечить прохождение каждой ветви не менее одного раза. Сильный и  экономичный критерий. Часто используется в системах автоматизации тестирования.

  - Условие критерия тестирования путей (критерий С2) - набор тестов в совокупности должен обеспечить прохождение каждого пути не менее 1 раза. Если программа содержит цикл, то число итераций ограничивается числом классов выходных путей. Структурные критерии не проверяют соответствие спецификации. Поэтому при успешном тестировании программы по критерию C2 мы можем не заметить ошибку, связанную с невыполнением некоторых условий спецификации требований.


- Функциональные критерии - формулируются в описании требований к ПО (критерии т.н. "черного ящика"). Контроль степени выполнения требований заказчика в программном продукте. Проблема функционального тестирования - трудоемкость, т.к. документы, фиксирующие требования к программному изделию (Software requirement specification, Functional specification и т.п.) объемны.

Виды функциональных критериев:

- Тестирование пунктов спецификации (проверка каждого тестируемого пункта не менее одного раза). 
- Тестирование классов входных данных (проверка представителя каждого класса входных данных не менее одного раза). Учет многообразия входных данных - процесс трудоемкий, что создает сложности для применения критерия
- Тестирование правил (проверка каждого правила, если входные и выходные значения описываются набором правил некоторой грамматики)
- Тестирование классов выходных данных (проверка представителя каждого выходного класса).
- Тестирование функций (проверка каждого действия, реализуемого тестируемым модулем, не менее одного раза).
- Комбинированные критерии для программ и спецификаций (проверка всех комбинаций непротиворечивых условий программ и спецификаций не менее одного раза). При этом все комбинации непротиворечивых условий надо подтвердить, а условия противоречий следует обнаружить и ликвидировать.

- Критерии стохастического тестирования - формулируются при проверке наличия заданных свойств у тестируемого приложения, средствами проверки некоторой статистической гипотезы. Стохастическое тестирование - подвид динамического тестирования, в котором генерация тестовых наборов для передачи программному обеспечению происходит случайным 
образом. Также широко распространён термин фаззинг (от англ. fuzz - покрываться слоем 
мельчайших пушинок, разлетаться).

- Мутационные критерии ориентированы на проверку свойств программного изделия. Предлагается подход, позволяющий на основе мелких ошибок оценить общее число ошибок, оставшихся в программе. Подход базируется на следующих понятиях:
 - Мутации - мелкие ошибки в программе.
 - Мутанты - программы, отличающиеся друг от друга мутациями.
Метод мутационного тестирования - в разрабатываемую программу P вносят мутации, т.е. искусственно создают программы-мутанты P1, P2... Затем программа P и ее мутанты тестируются на одном и том же наборе тестов (X,Y). Если на наборе (X,Y) подтверждается правильность программы P и, кроме того, выявляются все внесенные в программы-мутанты ошибки, то набор тестов (X,Y) соответствует мутационному критерию, а тестируемая программа объявляется правильной. Если некоторые мутанты не выявили всех мутаций, то надо расширять набор тестов (X,Y) и продолжать тестирование.
