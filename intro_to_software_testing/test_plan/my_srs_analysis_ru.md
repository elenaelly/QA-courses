В документе определены функциональные требования, а также требования к общему дизайну для программы GolfScore версии 1.1. 

Цель программы - обработка результатов турнира по гольфу и создание отчетов, показывающих, кто выиграл турнир и как игроки выступили на каждом сыгранном поле.

GolfScore версии 1.1. Программа отобразит свое название и номер версии на экране во время выполнения.

> Тест-кейсы:
> 1) Проверить, что отображается название и номер версии во время выполнения. 

GolfScore будет написан на C или C++ и предназначен для работы на ПК под управлением Windows 2000 или любой более поздней версии.

> Тест-кейсы:
> 2) Написана на С или С++
> 3) Работает на ПК Windows 2000
> 4) Работает на Windows XP 
> 5) Работает на  Windows Vista (NT 6.0) 2006
> 6) Работает на Windows 7
> 7) Работает на Windows 8
> 8) Работает на Windows 8.1
> 9) Работает на Windows 10
> 10) Работает на Windows 11

# 2. Функциональные требования
## 2.1 Описание программы

GolfScore — это программа, используемая для создания отчетов о результатах игроков в гольф на турнире по гольфу. 

> Тест-кейсы:
> 11) создается отчет о результатах игроков в гольф на турнире по гольфу. 

Входные данные для программы будут состоять из файла, содержащего два типа записей, как описано в Разделе 2.4 ниже. 

> Тест-кейсы:
> 12) создается два типа записей 

Выходные данные программы будут состоять из 3 отчетов, как описано в Разделе 2.5 ниже. 

> Тест-кейсы:
> 13) Выходные данные программы содержат 3 отчета. 

Программа выполняется через интерфейс командной строки — с приложением не связан графический интерфейс. 

Программа будет работать как автономный исполняемый файл и может быть запущена из командной строки, из IDE (интегрированной среды разработки) и т. д. 

> Тест-кейсы:
> 14) Программа работает как автономный исполняемый файл. 
> 15) Программа запускается из командной строки.
> 16) Программа запускается из IDE
> 17) Программа запускается еще из чего?

Входные данные для программы будут поступать из входного файла записи, а выходные данные — из программа перейдет к выводу файлов записи в формате, пригодном для печати. 

> Тест-кейсы:
> 18) Выходной формат пригоден для печати.

Любые ошибки во входных или выходных данных будут обрабатываться, как указано в Разделе 2.6 ниже.

> Тест-кейсы:
> 19) Ошибки обрабатываются

## 2.2 Вызов GolfScore

Формат вызова GolfScore: >golf  options   filename    output-directory 

options           один дефис, за которым следует один или несколько буквенных символов, без запятых и пробелов 
                  
> Тест-кейсы:
> 20) Ввод  начинается без дефисов - не принимается
> 21) Ввод начинается с двух дефисов - не принимается
> 22) Ввод начинается с дефиса и содержит один буквенный символ - принимается
> 23) Ввод начинается с дефиса и содержит два буквенных символа - принимается
> 24) Ввод содержит запятую - не принимается
> 25) Ввод содержит пробел - не принимается
> 26) Ввод содержит пробел и запятую - не принимается
                  
                    -h          Показать справочную информацию на экране; filename и output-directory игнорируются, если они есть 
                    
> Тест-кейсы:
> 27) -h показывает справочную информацию
> 28) -h с filename - filename игнорируется
> 29) -h с output-directory - output-directory игнорируется
> 30) -h с output-directory и filename - output-directory и filename игнорируются 
> 31) filename с одним из недопустимых символов (/\:*?«<>|) - 
                  
                  
                    -c, -t, -g  Создать отчет о поле (-c), отчет о рейтинге турнира (-t) или отчет игрока в гольф (-g) соответственно. Опции могут быть объединены, например, –cg

> Тест-кейсы:
> 31) -c выдает отчет о поле
> 32) -t выдает отчет о рейтинге турнира
> 33) -g выдает отчет игрока в гольф
> 34) -ct выдает отчет о поле и отчет о рейтинге турнира
> 35) -tc выдает отчет о поле и отчет о рейтинге турнира
> 36) -cg выдает отчет о поле и отчет игрока в гольф
> 37) -gc выдает отчет о поле и отчет игрока в гольф
> 38) -tg выдает отчет о рейтинге турнира и отчет игрока в гольф
> 39) -gt выдает отчет о рейтинге турнира и отчет игрока в гольф
> 40) -ctg выдает отчет о рейтинге турнира, отчет игрока в гольф и отчет о поле
> 41) -cgt выдает отчет о рейтинге турнира, отчет игрока в гольф и отчет о поле
> 42) -tcg  выдает отчет о рейтинге турнира, отчет игрока в гольф и отчет о поле
> 43) -tgc  выдает отчет о рейтинге турнира, отчет игрока в гольф и отчет о поле
> 44) -gct  выдает отчет о рейтинге турнира, отчет игрока в гольф и отчет о поле
> 45) -gtc  выдает отчет о рейтинге турнира, отчет игрока в гольф и отчет о поле
          
filename          Имя входного файла, содержащего данные для отчетов. Это может быть полное имя; если имя пути не указано, будет использоваться путь, по которому была запущена программа.

> Тест-кейсы:
> 46) указать полное имя пути
> 47) указать неполное имя пути

output-directory  Имя каталога файлов или путь, куда должны быть помещены выходные файлы. Если имя пути не указано, будет использоваться путь, содержащий имя файла.

Примеры:  >golf -h                                          Показать справочную информацию
          >golf -ct c:\in.txt golfout                       Создать отчет о поле и отчет о рейтинге турнира. 
                                                            Вход находится в файле in.txt в корневом каталоге c:\, 
                                                            вывод должен быть помещен в каталог c:\golfout.

> Тест-кейсы:
> 48) указать полное имя пути
> 49) указать неполное имя пути

## 2.3 Функционал программы

### 2.3.1 Турнирные допущения

Количество полей для гольфа, указанных для турнира, может быть от 1 до 5. 

> Тест-кейсы:
> 50) 1 поле  - принимается
> 51) 5 полей  - принимается
> 52) 0 полей  - не принимается
> 53) 55 полей  - не принимается
> 54) -5 полей  - не принимается

Ожидается, что каждый игрок в гольф сыграет на каждом поле один раз.

> Тест-кейсы:
> 55) игрок отыграет 1 раз - принимается
> 56) игрок отыграет 9 раз/не отыграет - не принимается
> 57) игрок отыграет 100 раз  - принимается

Количество игроков, участвующих в турнире, может быть от 2 до 12.

> Тест-кейсы:
> 58) количество игроков 0 - не принимается
> 59) количество игроков -1  - не принимается
> 60) количество игроков 1 - не принимается 
> 61) количество игроков 12 - принимается
> 62) количество игроков 13 - не принимается
> 63) количество игроков 2 - принимается

Каждое поле для гольфа имеет 18 лунок, и номинал каждой лунки составляет 3, 4 или 5 ударов.

> Тест-кейсы:
> 64) поле гля гольфа имеет 0 лунок  - не принимается
> 65) поле гля гольфа имеет 19 лунок  - не принимается
> 66) поле гля гольфа имеет 18 лунок  - принимается
> 67) номинал лунки 0   - не принимается
> 68) номинал лунки 2   - не принимается
> 69) номинал лунки -2   - не принимается
> 70) номинал лунки 3   - принимается
> 71) номинал лунки 3.5   - не принимается
> 72) номинал лунки 4   - принимается
> 73) номинал лунки 5   - принимается
> 74) номинал лунки -5   - не принимается

Счет игрока за каждую лунку определяется, как показано в Разделе 2.3.2, и основывается на количестве ударов ниже или выше номинала, сделанных для завершения этой лунки. Таким образом, счет и количество ударов не совпадают. 

> Тест-кейсы:
> 75) счет и количество ударов не совпадают  - принимается
> 76) счет и количество ударов совпадают  - не принимается

Количество ударов игрока на конкретном поле для гольфа представляет собой сумму количества ударов на каждой из 18 лунок.

> Тест-кейсы:
> 77) Количество ударов игрока на конкретном поле для гольфа представляет собой сумму количества ударов на каждой из 18 лунок.  - принимается
> 78) Количество ударов игрока на конкретном поле для гольфа не представляет собой сумму количества ударов на каждой из 18 лунок.  - не принимается

Счет игрока в гольф на конкретном поле для гольфа представляет собой сумму очков на каждой из 18 лунок.

> Тест-кейсы:
> 79) Счет игрока в гольф на конкретном поле для гольфа представляет собой сумму очков на каждой из 18 лунок.  - принимается
> 80) Счет игрока в гольф на конкретном поле для гольфа не представляет собой сумму очков на каждой из 18 лунок.  - не принимается

Общий турнирный счет игрока в гольф представляет собой сумму его или ее очков на всех сыгранных гольф-полях.

> Тест-кейсы:
> 81) Общий турнирный счет игрока в гольф представляет собой сумму его или ее очков на всех сыгранных гольф-полях.  - принимается
> 82) Общий турнирный счет игрока в гольф не представляет собой сумму его или ее очков на всех сыгранных гольф-полях.  - не принимается

Обратите внимание, что чем меньше количество ударов игрока в гольф (относительно номинала), тем выше его или ее счет на этой лунке.


### 2.3.2 Подсчет очков

Очки, заработанные игроком в гольф за каждую сыгранную лунку, следующие:
Количество ударов                     Очки
больше номинала                       0
номинал                               1
на 1 меньше номинала                  2
на 2 меньше номинала                  4
на 3 и далее меньше номинала          6

> Тест-кейсы:
> 83) количество ударов больше номинала - 0 очков
> 84) количество ударов равно номиналу - 1 очко
> 85) количество ударов на 1 меньше номинала - 2 очка
> 86) количество ударов на 2 меньше номинала - 4 очка
> 87) количество ударов на 3 меньше номинала - 6 очков
> 88) количество ударов на 4 меньше номинала - 6 очков


## 2.4 Ввод данных

Входные данные для GolfScore будут состоять из форматированного текстового файла, содержащего следующие записи в указанном порядке. Отдельные записи в файле заканчиваются концом строки. Имя входного файла указывается в качестве параметра в строке вызова программы. [См. Раздел 2.2.]

> Тест-кейсы:
> 89) Golfscore принимает форматированный файл
> 90) Форматированный файл содержит записи в указанном порядке
> 91) Имя входного файла указывается в качестве параметра в строке вызова программы.

### 2.4.1 Записи курса

Записи курса предназначены для описания различных используемых курсов. Для каждого поля для гольфа, используемого в турнире, будет установлен один рекорд поля. Каждая запись содержит название поля, идентификатор для записей игроков в гольф и пар для каждой из его 18 лунок. Все записи курса идут первыми во входном файле.
Столбец 1     Пустой
Столбцы 2-19  Название курса
Столбец 20    Односимвольный идентификатор курса
Столбцы 21-38 Номинал для лунок 1-18, по порядку, одно целое число: 3, 4 или 5

> Тест-кейсы:
> 92) Для каждого поля для гольфа установлен один рекорд поля.
> 93) Каждая запись содержит название поля, идентификатор для записей игроков в гольф и номинал для каждой из его 18 лунок.
> 94) Все записи курса идут первыми во входном файле.

### 2.4.2 Запись-разделитель

Конец записей курса будет обозначен записью-разделителем в следующем формате.
Столбец 1 Непустой

> Тест-кейсы:
> 95) Конец записей курса обозначен записью-разделителем в следующем формате.

### 2.4.3 Рекорды игроков в гольф

Будет один Рекорд Игрока в гольф для каждого игрока в гольф на каждом сыгранном поле; эти записи могут появляться в любом порядке. Каждая запись содержит имя игрока в гольф, идентификатор поля и количество ударов игрока в гольф на каждой из 18 лунок.
Столбец 1 Пустой
Столбец 2 Идентификатор курса
Столбцы 3-9 игнорируются
Столбцы 10-29 Имя игрока в гольф
Столбец 30 игнорируется
Колонки 31-48 Количество ударов для каждой из 18 лунок

> Тест-кейсы:
> 96) Рекорд Игрока - рекорд для каждого игрока в гольф на каждом сыгранном поле

### 2.4.4 Запись-разделитель

Конец записей игрока в гольф и, следовательно, самого входного файла также будет определяться записью-разделителем.
Столбец 1 Непустой

> Тест-кейсы:
> 97) Конец записей игрока определяется записью-разделителем.
> 98) Конец входного файла определяется записью-разделителем.

## 2.5 Вывод данных

GolfScore создаст до 3 отчетов в зависимости от параметров ввода. Сгенерированные отчеты будут храниться в виде текстовых файлов в каталоге, указанном в строке вызова программы.


### 2.5.1 Отчет о рейтинге турнира

Список всех игроков в гольф с указанием имени игрока, очков на каждом поле, общего турнирного счета и окончательного положения этого игрока в гольф (1-е место, 2-е место и т. д.). Список будет располагаться в порядке убывания окончательного результата (т. е. лучший игрок в гольф будет первым). В случае ничьей игроки в гольф будут перечислены в алфавитном порядке. Имя выходного файла для этого отчета будет trank.rep.

> Тест-кейсы:
> 99) В отчете о рейтинге турнира игроки располагаются в порядке убывания
> 100)  В отчете о рейтинге турнира в случае ничьей игроки в гольф будут перечислены в алфавитном порядке.
> 101) Имя файла отчета о рейтинге турнира - trank.rep.

### 2.5.2 Отчет игрока в гольф

Этот отчет точно такой же, как и отчет о рейтинге турниров, за исключением того, что игроки в гольф будут перечислены в алфавитном порядке по фамилиям.
Имя выходного файла для этого отчета будет golfer.rep.

> Тест-кейсы:
> 102) В отчете игрока игроки в гольф будут перечислены в алфавитном порядке по фамилиям.
> 103) Имя отчета игрока - golfer.rep.

### 2.5.3 Отчет о курсе

В этом отчете будет по одному разделу для каждого поля для гольфа, указанного во входных записях о поле. Для каждого поля в отчете будет показан список всех игроков в гольф с именем игрока в гольф, количество ударов по каждой лунке для этого поля и общий счет для этого поля, перечисленные в порядке убывания количества очков на этом поле.
Имя выходного файла для этого отчета будет course.rep.

> Тест-кейсы:
> 104) В отчете о курсе - по одному разделу для каждого поля для гольфа, указанного во входных записях о поле. 
> 105) В отчете о курсе для каждого поля будет показан список всех игроков в гольф с именем игрока в гольф, количество ударов по каждой лунке для этого поля и общий счет для этого поля, перечисленные в порядке убывания количества очков на этом поле.
> 106) Имя отчета о курсе - course.rep.

## 2.6 Обработка ошибок

### 2.6.1 Ошибки входных параметров

При любых ошибках входных параметров, включая нераспознаваемые параметры, программа остановится и отобразит сообщение с объяснением ошибки.
Предполагается, что первое поле, следующее за опциями, является именем файла. Если файл, указанный в имени файла, не существует, будет сообщено об ошибке входного параметра.
Предполагается, что первое поле после имени файла является каталогом. Если каталог, указанный выходным каталогом, не существует, будет сообщено об ошибке входного параметра. Если выходной каталог не указан, будет использоваться каталог, содержащий имя файла.
Любое поле за пределами поля output-directory будет проигнорировано и не будет считаться ошибкой.

### 2.6.2 Ошибки входных данных

Проверяются следующие ошибки входных данных:
i) Нечисловые данные там, где ожидаются числовые данные: программа остановится с соответствующим сообщением об ошибке.
ii) номинальные значения, отличные от 3, 4 или 5: программа остановится с соответствующим сообщением об ошибке.
iii) Любой игрок в гольф, у которого есть две или более записей для одного и того же поля для гольфа: дополнительные записи после первой будут игнорироваться, будет отображаться сообщение, и обработка будет продолжена.

### 2.6.3 Ошибки на выходе

Если какой-либо из запрошенных выходных отчетов уже существует, программа приостановит работу и спросит пользователя, следует ли перезаписать файл. Пример подсказки: «Файл <file> уже существует. Вы хотите перезаписать его? (Y/N)». 
  
Затем пользователь ответит «Y» или «N». 
Если «Y», выходной файл будет перезаписан; 
если «N», сгенерированный вывод будет отброшен. 
  
Для каждого запрошенного типа выходного отчета будет отдельное приглашение пользователя.
Если указанный выходной отчет не существует по указанному пути, он будет создан.
Если при попытке записи выходных файлов возникают какие-либо другие ошибки, поведение программы не указано.

# Результаты
Исполняемый файл GolfScore

# 4. Требования к производительности
После выполнения GolfScore завершит обработку в течение одной минуты.
